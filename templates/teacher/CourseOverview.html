{% extends 'teacher/base.html' %}

{% block title %}课程总览{% endblock %}

{% block main %}
<form action="{{  url_for('CourseOverview') }}" method=post>
        <select class="custom-select" name="grade" method="GET" action="/">
            <option selected>年级</option> 
            {% for gradeitem in grade %} 
             <option value="{{gradeitem}}">{{  gradeitem  }}</option>" 
            {% endfor %} 
        </select> 
        
        <select class="custom-select" name="year" method="GET" action="/">
          <option selected>学年</option> 
          {% for yearitem in year %} 
           <option value="{{yearitem}}">{{  yearitem  }}</option>" 
          {% endfor %} 
        </select> 
        
        <select class="custom-select" name="semester" method="GET" action="/"> 
          <option selected>学期</option>
          {% for semesteritem in semester %} 
           <option value="{{semesteritem}}">{{  semesteritem  }}</option>" 
          {% endfor %} 
        </select> 
        <input type="text" name="courseName" placeholder="课程名" method="POST"/>
        <input class="btn btn-primary" type="submit" value="查询">
        </form>

        <html>
                <head>
                    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
                </head>
                <body>
                    <div id="main" style="width: 600px;height:400px;"></div>
                    <script type="text/javascript">
                        var myChart = echarts.init(document.getElementById('main'));
                        var option = {
                                color: ['#3398DB'],
                                title : {
                                    text: '课程总览'
                                },
                                tooltip : {
                                    trigger: 'axis',
                                    axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                                            type : 'shadow'        
                                }
                                },
                            grid: {
                                    left: '3%',
                                right: '4%',
                                bottom: '3%',
                                containLabel: true
                            },
                            xAxis : [
                            {
                                    type : 'category',
                                    data : ['0-60', '60-70', '70-80', '80-90', '90-100'],
                                    axisTick: {
                                    alignWithLabel: true
                                    }
                                }
                            ],
                            yAxis : [
                                {
                                    type : 'value'
                                }
                            ],
                            series : [
                                {
                                    name:'人数',
                                    type:'bar',
                                    barWidth: '60%',
                                    data:{{result}}
                                }
                            ]
                        };
                    myChart.setOption(option);
                
                    </script>
                </body>
                </html>
{% endblock %}